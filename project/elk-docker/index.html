<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.42.2" />
  <meta name="author" content="Kanekotic">

  
  
  
  
    
      
    
  
  <meta name="description" content="This show how multiple containers can aggregate log to logging infrastructure with docker compose using logstash, elastic search and kibana
Run you will need docker installed in your computer, after it :
 Run  docker-compose up   run to get some logs from httpd  repeat 10 curl http://localhost:80/   Kibana:
 this might take a bit Navigate to http://localhost:5601 Add logstash-* as index with @timestamp as Time-field name Go to Discover  Grafana:">

  
  <link rel="alternate" hreflang="en-us" href="http://kanekotic.github.io/project/elk-docker/">

  


  

  
  
  <meta name="theme-color" content="#0095eb">
  
  
  
  
    
  
  
    
    
      
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
      
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-121835212-1', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  
  <link rel="alternate" href="http://kanekotic.github.io/index.xml" type="application/rss+xml" title="Kanekotic">
  <link rel="feed" href="http://kanekotic.github.io/index.xml" type="application/rss+xml" title="Kanekotic">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="http://kanekotic.github.io/project/elk-docker/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@kanekotic">
  <meta property="twitter:creator" content="@kanekotic">
  
  <meta property="og:site_name" content="Kanekotic">
  <meta property="og:url" content="http://kanekotic.github.io/project/elk-docker/">
  <meta property="og:title" content="ELK Docker | Kanekotic">
  <meta property="og:description" content="This show how multiple containers can aggregate log to logging infrastructure with docker compose using logstash, elastic search and kibana
Run you will need docker installed in your computer, after it :
 Run  docker-compose up   run to get some logs from httpd  repeat 10 curl http://localhost:80/   Kibana:
 this might take a bit Navigate to http://localhost:5601 Add logstash-* as index with @timestamp as Time-field name Go to Discover  Grafana:">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2017-07-28T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2017-07-28T00:00:00&#43;00:00">
  

  

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
<script>
  window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#0095eb",
          "text": "#fff"
        },
        "button": {
          "background": "#fff",
          "text": "#0095eb"
        }
      },
      "theme": "classic",
      "content": {
        "message": "This website uses cookies to ensure you get the best experience on our website.",
        "dismiss": "Got it!",
        "link": "Learn more"
      }
    })});
</script>

  

  <title>ELK Docker | Kanekotic</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Kanekotic</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article article-project" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <div class="pub-title">
      <span class="pub-authors" itemprop="author">&nbsp;</span>
      <span class="pull-right">
        
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=ELK%20Docker&amp;url=http%3a%2f%2fkanekotic.github.io%2fproject%2felk-docker%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=http%3a%2f%2fkanekotic.github.io%2fproject%2felk-docker%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fkanekotic.github.io%2fproject%2felk-docker%2f&amp;title=ELK%20Docker"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=http%3a%2f%2fkanekotic.github.io%2fproject%2felk-docker%2f&amp;title=ELK%20Docker"
         target="_blank" rel="noopener">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=ELK%20Docker&amp;body=http%3a%2f%2fkanekotic.github.io%2fproject%2felk-docker%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


      </span>
    </div>

    
    <a class="btn btn-primary btn-outline" href="https://github.com/kanekotic/ELK-Docker" target="_blank" rel="noopener">Go to Project Site</a>
    

    <div class="article-style" itemprop="articleBody">
      

<h1 id="logomakr-5axvtc-https-user-images-githubusercontent-com-3071208-41837679-81e03624-785e-11e8-841c-4bd25a61b5cd-png"><img src="https://user-images.githubusercontent.com/3071208/41837679-81e03624-785e-11e8-841c-4bd25a61b5cd.png" alt="logomakr_5axvtc" /></h1>

<p>This show how multiple containers can aggregate log to logging infrastructure with docker compose using logstash, elastic search and kibana</p>

<h2 id="run">Run</h2>

<p>you will need docker installed in your computer, after it :</p>

<ol>
<li>Run</li>
</ol>

<pre><code class="language-zsh">docker-compose up
</code></pre>

<ol>
<li>run to get some logs from httpd</li>
</ol>

<pre><code class="language-zsh">repeat 10 curl http://localhost:80/ 
</code></pre>

<ol>
<li><p>Kibana:</p>

<ul>
<li>this might take a bit</li>
<li>Navigate to <a href="http://localhost:5601" target="_blank">http://localhost:5601</a></li>
<li>Add logstash-* as index with @timestamp as Time-field name</li>
<li>Go to Discover</li>
</ul></li>

<li><p>Grafana:</p>

<ul>
<li>Navigate to <a href="http://localhost:3000" target="_blank">http://localhost:3000</a></li>
<li>username and password are admin</li>
<li>Navigate and create dashboards</li>
</ul></li>
</ol>

<h2 id="architecture">Architecture</h2>

<p>the target architecture would be to allow gathering information from applications but also sync with hadoop to enable having a data lake to improve analytics, and pull directly from google analytics to logstash.</p>

<p><img src="https://user-images.githubusercontent.com/3071208/41893258-66e86d6a-791b-11e8-9e2a-929c723b9f44.png" alt="image" /></p>

<p>(current architecture is missing google analytics and hadoop as seen in TODO list)</p>

<h2 id="backlog">Backlog</h2>

<ul class="task-list">
<li><label><input type="checkbox" checked disabled class="task-list-item"> Add kibana container</label></li>
<li><label><input type="checkbox" checked disabled class="task-list-item"> Add Grafana container visualization</label></li>
<li><label><input type="checkbox" checked disabled class="task-list-item"> Add elasticsearch container</label></li>
<li><label><input type="checkbox" checked disabled class="task-list-item"> Add logstash container and configuration</label></li>
<li><label><input type="checkbox" checked disabled class="task-list-item"> Add aplication containers</label></li>
<li><label><input type="checkbox" checked disabled class="task-list-item"> Add dashboard as code for grafana</label></li>
<li><label><input type="checkbox" disabled class="task-list-item"> Add import fron google analytics through logstash and http_poller</label></li>
<li><label><input type="checkbox" disabled class="task-list-item"> Add hadoop infrastructure for data analytics extension</label></li>
</ul>

<h2 id="references-further-readings">References &amp; further readings</h2>

<ul>
<li><a href="https://docs.fluentd.org/v0.12/articles/docker-logging-efk-compose" target="_blank">docker logging article</a></li>
<li><a href="https://gist.github.com/eunomie/e7a183602b8734c47058d277700fdc2d" target="_blank">gist eunomie</a></li>
<li><a href="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-http_poller.html" target="_blank">http poller</a></li>
<li><a href="https://www.elastic.co/products/hadoop" target="_blank">hadoop elastic search</a></li>
<li><a href="https://blog.treasuredata.com/blog/2015/08/31/hadoop-vs-elasticsearch-for-advanced-analytics/" target="_blank">hadoop vs elastic search</a></li>
</ul>

<h3 id="logo">Logo</h3>

<p>Check out the new logo that I created on <a href="http://logomakr.com" title="Logo Makr">LogoMakr.com</a> <a href="https://logomakr.com/5axvTc" target="_blank">https://logomakr.com/5axvTc</a></p>

    </div>

    


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="http://kanekotic.github.io/tags/elk-stack/">elk-stack</a>
  
  <a class="btn btn-primary btn-outline" href="http://kanekotic.github.io/tags/elasticsearch/">elasticsearch</a>
  
  <a class="btn btn-primary btn-outline" href="http://kanekotic.github.io/tags/grafana/">grafana</a>
  
  <a class="btn btn-primary btn-outline" href="http://kanekotic.github.io/tags/kibana/">kibana</a>
  
  <a class="btn btn-primary btn-outline" href="http://kanekotic.github.io/tags/logstash/">logstash</a>
  
  <a class="btn btn-primary btn-outline" href="http://kanekotic.github.io/tags/infrastructure/">infrastructure</a>
  
</div>




    
    
    

    
      
      
      
      

      
      
      
      
    

  </div>
</article>



<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2018 &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    <script id="dsq-count-scr" src="//kanekotics.disqus.com/count.js" async></script>
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

